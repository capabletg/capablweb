import React, { useState } from "react";
import { FaPlay } from "react-icons/fa";
import Slider from "react-slick";
import { leadingExperts } from "../../utils/data/courses/leadingExperts";

export default function LeadingExpertsSlider({ theme = { primary: "", text: "" } }) {
    const [centerSlide, setCenterSlide] = useState(0);

    const settings = {
        dots: false,
        infinite: true,
        centerMode: true,
        centerPadding: "0px",
        slidesToShow: 3,
        speed: 300,
        slidesToScroll: 1,
        swipeToSlide: true,
        nextArrow: null,
        prevArrow: null,
        arrows: false,
        focusOnSelect: true,
        beforeChange: (_, nextIndex) => {
            setCenterSlide(nextIndex);
        },
    };

    return (
        <>
            <div className="flex items-center justify-center gap-0.5 mt-2.5 md:mt-3">
                <span style={{ background: theme.primary }} className="rounded-full w-1.5 h-1" />
                <span style={{ background: theme.primary }} className="rounded-full w-1.5 h-1" />
                <span style={{ background: theme.primary }} className="rounded-full w-8 h-1" />
                <span style={{ background: theme.primary }} className="rounded-full w-1.5 h-1" />
            </div>

            <div className="mt-2 md:mt-4">
                <Slider {...settings}>
                    {leadingExperts?.map((item, index) => (
                        <div key={index} className={`px-0 pt-10 sm:pt-12 md:pt-14 lg:pt-16 py-4 relative ${centerSlide === index && "z-10"}`}>
                            <div className="bg-transparent mx-auto relative flex items-center justify-start flex-col cursor-pointer group">
                                <div
                                    className={`overflow-hidden rounded-xl transition-all duration-300 relative h-[8rem] sm:h-[11rem] md:h-[13.6rem] lg:h-[16rem] ${
                                        centerSlide === index
                                            ? "scale-125 w-[10rem] sm:w-[15rem] md:w-[17rem] lg:w-[20rem] opacity-100"
                                            : "scale-100 w-full max-w-[9rem] sm:max-w-[14rem] md:max-w-[15.3rem] lg:max-w-[18rem] opacity-60"
                                    }`}
                                >
                                    <img
                                        className="w-full h-full object-cover group-hover:scale-110 transform transition-all duration-500"
                                        src={item?.image}
                                        alt={item?.name}
                                    />

                                    {/* fade */}
                                    <div className="bg-black bg-opacity-25 absolute top-0 left-0 w-full h-full" />

                                    {/* play button */}
                                    <div
                                        className={`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white bg-opacity-50 rounded-full w-9 sm:w-10 md:w-12 h-9 sm:h-10 md:h-12 flex items-center justify-center group-hover:scale-95 transition-all duration-500 ${
                                            centerSlide === index ? "opacity-100 scale-100" : "opacity-0 scale-0"
                                        }`}
                                    >
                                        <span style={{ color: theme.primary }} className="text-xs sm:text-sm md:text-base ml-1">
                                            <FaPlay />
                                        </span>
                                    </div>
                                </div>

                                <svg
                                    className={`relative mx-auto w-16 sm:w-24 md:w-28 mt-0 sm:-mt-1.5 md:-mt-1 lg:mt-0 object-contain transform transition-all duration-300 ${
                                        centerSlide === index ? "scale-100 opacity-100" : "hidden scale-0 opacity-0"
                                    }`}
                                    viewBox="0 0 147 98"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                                    style={{ fill: theme.primary }}
                                >
                                    <path
                                        d="M138.007 65.6814C138.007 69.9842 137.184 74.0339 135.539 77.8305C134.02 81.5006 131.869 84.791 129.085 87.7017C126.301 90.4859 123.01 92.7006 119.214 94.3458C115.544 95.991 111.557 96.8136 107.254 96.8136C101.812 96.8136 97.0034 95.6113 92.8272 93.2068C88.7774 90.8023 85.2972 87.7017 82.3865 83.9051C79.6023 79.9819 77.4509 75.5526 75.9322 70.617C74.5401 65.5548 73.8441 60.4294 73.8441 55.2407C73.8441 49.5458 74.6034 43.9141 76.1221 38.3458C77.6407 32.7774 79.7921 27.5887 82.5763 22.7797C85.487 17.9706 89.0305 13.6045 93.2068 9.68136C97.3831 5.75819 102.066 2.53107 107.254 0L123.959 8.92204C120.669 12.2124 117.822 16.009 115.417 20.3119C113.139 24.6147 112 29.1074 112 33.7898V35.4983C115.67 36.1311 119.087 37.3333 122.251 39.1051C125.415 40.8768 128.136 43.0915 130.414 45.7492C132.818 48.4068 134.653 51.4441 135.919 54.861C137.311 58.278 138.007 61.8848 138.007 65.6814ZM64.1627 65.6814C64.1627 69.9842 63.3401 74.0339 61.6949 77.8305C60.1763 81.5006 58.0249 84.791 55.2407 87.7017C52.4565 90.4859 49.1661 92.7006 45.3695 94.3458C41.6994 95.991 37.713 96.8136 33.4102 96.8136C27.9684 96.8136 23.1593 95.6113 18.9831 93.2068C14.9333 90.8023 11.4531 87.7017 8.54238 83.9051C5.75819 79.9819 3.60678 75.5526 2.08814 70.617C0.696045 65.5548 0 60.4294 0 55.2407C0 49.5458 0.759322 43.9141 2.27797 38.3458C3.79661 32.7774 5.94802 27.5887 8.73221 22.7797C11.6429 17.9706 15.1864 13.6045 19.3627 9.68136C23.539 5.75819 28.2215 2.53107 33.4102 0L50.1153 8.92204C46.8249 12.2124 43.9774 16.009 41.5729 20.3119C39.2949 24.6147 38.1559 29.1074 38.1559 33.7898V35.4983C41.826 36.1311 45.243 37.3333 48.4068 39.1051C51.5706 40.8768 54.2915 43.0915 56.5695 45.7492C58.974 48.4068 60.8091 51.4441 62.0746 54.861C63.4667 58.278 64.1627 61.8848 64.1627 65.6814Z"
                                        fill="white"
                                    />
                                    <path
                                        d="M146.505 66.6257C146.505 70.9285 145.682 74.9783 144.037 78.7749C142.518 82.4449 140.367 85.7353 137.583 88.6461C134.799 91.4302 131.508 93.6449 127.712 95.2901C124.042 96.9353 120.055 97.7579 115.752 97.7579C110.311 97.7579 105.501 96.5557 101.325 94.1511C97.2755 91.7466 93.7953 88.6461 90.8845 84.8495C88.1003 80.9263 85.9489 76.4969 84.4303 71.5613C83.0382 66.4992 82.3421 61.3737 82.3421 56.185C82.3421 50.4901 83.1015 44.8585 84.6201 39.2901C86.1388 33.7218 88.2902 28.533 91.0744 23.724C93.9851 18.915 97.5286 14.5489 101.705 10.6257C105.881 6.70253 110.564 3.47541 115.752 0.944336L132.457 9.86637C129.167 13.1568 126.32 16.9534 123.915 21.2562C121.637 25.559 120.498 30.0517 120.498 34.7342V36.4427C124.168 37.0754 127.585 38.2777 130.749 40.0494C133.913 41.8212 136.634 44.0359 138.912 46.6935C141.316 49.3511 143.151 52.3884 144.417 55.8054C145.809 59.2223 146.505 62.8291 146.505 66.6257ZM72.6608 66.6257C72.6608 70.9285 71.8382 74.9783 70.193 78.7749C68.6743 82.4449 66.5229 85.7353 63.7387 88.6461C60.9546 91.4302 57.6642 93.6449 53.8676 95.2901C50.1975 96.9353 46.2111 97.7579 41.9082 97.7579C36.4664 97.7579 31.6574 96.5557 27.4811 94.1511C23.4314 91.7466 19.9512 88.6461 17.0404 84.8495C14.2562 80.9263 12.1048 76.4969 10.5862 71.5613C9.19409 66.4992 8.49805 61.3737 8.49805 56.185C8.49805 50.4901 9.25737 44.8585 10.776 39.2901C12.2947 33.7218 14.4461 28.533 17.2303 23.724C20.141 18.915 23.6845 14.5489 27.8608 10.6257C32.037 6.70253 36.7195 3.47541 41.9082 0.944336L58.6133 9.86637C55.3229 13.1568 52.4755 16.9534 50.0709 21.2562C47.793 25.559 46.654 30.0517 46.654 34.7342V36.4427C50.324 37.0754 53.741 38.2777 56.9048 40.0494C60.0687 41.8212 62.7896 44.0359 65.0676 46.6935C67.4721 49.3511 69.3071 52.3884 70.5726 55.8054C71.9647 59.2223 72.6608 62.8291 72.6608 66.6257Z"
                                        fill="inherit"
                                    />
                                </svg>

                                <div className="mt-4 w-[14rem] sm:w-[18rem] md:w-[21rem] flex flex-col items-center">
                                    {centerSlide === index && <p className="text-[#14213D] font-normal text-xs sm:text-sm text-center">{item?.feedback}</p>}

                                    <div
                                        className={`flex items-center justify-center gap-3 ${
                                            centerSlide === index ? "mt-4 sm:mt-4 md:mt-5 scale-100" : "scale-75"
                                        } ${centerSlide !== index && "hidden md:flex"}`}
                                    >
                                        <p className="text-xs text-[#14213D]">{item?.name}</p>
                                        <div className="flex flex-col items-start justify-start gap-0.5 border-l border-l-[#dcdcdc] pl-3">
                                            <p className="text-[0.7rem] text-[#9c9c9c]">{item?.designation}</p>
                                            <div className="h-3.5 md:h-4">
                                                <img className="h-full object-contain" src={item?.company_logo} alt="company" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    ))}
                </Slider>
            </div>
        </>
    );
}

/*

 <svg className="fill-capabl_primary" viewBox="0 0 147 98" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M138.007 65.6814C138.007 69.9842 137.184 74.0339 135.539 77.8305C134.02 81.5006 131.869 84.791 129.085 87.7017C126.301 90.4859 123.01 92.7006 119.214 94.3458C115.544 95.991 111.557 96.8136 107.254 96.8136C101.812 96.8136 97.0034 95.6113 92.8272 93.2068C88.7774 90.8023 85.2972 87.7017 82.3865 83.9051C79.6023 79.9819 77.4509 75.5526 75.9322 70.617C74.5401 65.5548 73.8441 60.4294 73.8441 55.2407C73.8441 49.5458 74.6034 43.9141 76.1221 38.3458C77.6407 32.7774 79.7921 27.5887 82.5763 22.7797C85.487 17.9706 89.0305 13.6045 93.2068 9.68136C97.3831 5.75819 102.066 2.53107 107.254 0L123.959 8.92204C120.669 12.2124 117.822 16.009 115.417 20.3119C113.139 24.6147 112 29.1074 112 33.7898V35.4983C115.67 36.1311 119.087 37.3333 122.251 39.1051C125.415 40.8768 128.136 43.0915 130.414 45.7492C132.818 48.4068 134.653 51.4441 135.919 54.861C137.311 58.278 138.007 61.8848 138.007 65.6814ZM64.1627 65.6814C64.1627 69.9842 63.3401 74.0339 61.6949 77.8305C60.1763 81.5006 58.0249 84.791 55.2407 87.7017C52.4565 90.4859 49.1661 92.7006 45.3695 94.3458C41.6994 95.991 37.713 96.8136 33.4102 96.8136C27.9684 96.8136 23.1593 95.6113 18.9831 93.2068C14.9333 90.8023 11.4531 87.7017 8.54238 83.9051C5.75819 79.9819 3.60678 75.5526 2.08814 70.617C0.696045 65.5548 0 60.4294 0 55.2407C0 49.5458 0.759322 43.9141 2.27797 38.3458C3.79661 32.7774 5.94802 27.5887 8.73221 22.7797C11.6429 17.9706 15.1864 13.6045 19.3627 9.68136C23.539 5.75819 28.2215 2.53107 33.4102 0L50.1153 8.92204C46.8249 12.2124 43.9774 16.009 41.5729 20.3119C39.2949 24.6147 38.1559 29.1074 38.1559 33.7898V35.4983C41.826 36.1311 45.243 37.3333 48.4068 39.1051C51.5706 40.8768 54.2915 43.0915 56.5695 45.7492C58.974 48.4068 60.8091 51.4441 62.0746 54.861C63.4667 58.278 64.1627 61.8848 64.1627 65.6814Z"
                        fill="white"
                    />
                    <path
                        d="M146.505 66.6257C146.505 70.9285 145.682 74.9783 144.037 78.7749C142.518 82.4449 140.367 85.7353 137.583 88.6461C134.799 91.4302 131.508 93.6449 127.712 95.2901C124.042 96.9353 120.055 97.7579 115.752 97.7579C110.311 97.7579 105.501 96.5557 101.325 94.1511C97.2755 91.7466 93.7953 88.6461 90.8845 84.8495C88.1003 80.9263 85.9489 76.4969 84.4303 71.5613C83.0382 66.4992 82.3421 61.3737 82.3421 56.185C82.3421 50.4901 83.1015 44.8585 84.6201 39.2901C86.1388 33.7218 88.2902 28.533 91.0744 23.724C93.9851 18.915 97.5286 14.5489 101.705 10.6257C105.881 6.70253 110.564 3.47541 115.752 0.944336L132.457 9.86637C129.167 13.1568 126.32 16.9534 123.915 21.2562C121.637 25.559 120.498 30.0517 120.498 34.7342V36.4427C124.168 37.0754 127.585 38.2777 130.749 40.0494C133.913 41.8212 136.634 44.0359 138.912 46.6935C141.316 49.3511 143.151 52.3884 144.417 55.8054C145.809 59.2223 146.505 62.8291 146.505 66.6257ZM72.6608 66.6257C72.6608 70.9285 71.8382 74.9783 70.193 78.7749C68.6743 82.4449 66.5229 85.7353 63.7387 88.6461C60.9546 91.4302 57.6642 93.6449 53.8676 95.2901C50.1975 96.9353 46.2111 97.7579 41.9082 97.7579C36.4664 97.7579 31.6574 96.5557 27.4811 94.1511C23.4314 91.7466 19.9512 88.6461 17.0404 84.8495C14.2562 80.9263 12.1048 76.4969 10.5862 71.5613C9.19409 66.4992 8.49805 61.3737 8.49805 56.185C8.49805 50.4901 9.25737 44.8585 10.776 39.2901C12.2947 33.7218 14.4461 28.533 17.2303 23.724C20.141 18.915 23.6845 14.5489 27.8608 10.6257C32.037 6.70253 36.7195 3.47541 41.9082 0.944336L58.6133 9.86637C55.3229 13.1568 52.4755 16.9534 50.0709 21.2562C47.793 25.559 46.654 30.0517 46.654 34.7342V36.4427C50.324 37.0754 53.741 38.2777 56.9048 40.0494C60.0687 41.8212 62.7896 44.0359 65.0676 46.6935C67.4721 49.3511 69.3071 52.3884 70.5726 55.8054C71.9647 59.2223 72.6608 62.8291 72.6608 66.6257Z"
                        fill="inherit"
                    />
                </svg>


*/
